<html>
  <head>
    <link rel="stylesheet" href="css/master.css">
    <link rel="stylesheet" href="/css/component.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.3/p5.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.3/addons/p5.dom.min.js"></script>
    <script src="js/sketch.js"></script>
    <script src="js/snap.svg-min.js"></script>
      </head>
  <body class="index"><!-- onclick="window.location='anotherpage.html'" -->

    <div class="pagewrap" id="pagewrap">

      <div class="container show cover" id="page-1">
        <p class="cover">Page 1<a class="pageload-link cover" href="#page-2"></a></p>
      </div>

      <div class="container" id="page-2">
         <p>Page 2</p><a class="pageload-link" href="#page-3">Show Page 3</a></p>
      </div>

      <div class="container" id="page-3">
         <p>Page 3</p><a class="pageload-link" href="#page-4">Show Page 4</a></p>
      </div>

      <div class="container" id="page-4">
         <p>Page 4</p><a class="pageload-link" href="#">End</a></p>
      </div>



      <div id="loader" class="pageload-overlay" data-opening="M 0,0 c 0,0 63.5,-16.5 80,0 16.5,16.5 0,60 0,60 L 0,60 Z">
				<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 80 60" preserveAspectRatio="none">
					<path d="M 0,0 c 0,0 -16.5,43.5 0,60 16.5,16.5 80,0 80,0 L 0,60 Z"/>
				</svg>
			</div><!-- /pageload-overlay -->


    </div><!-- page wrapper -->

    <!--scripts for page transition animations -->
    <script src="js/classie.js"></script>
		<script src="js/svgLoader.js"></script>

    <script>
			(function() {
				var pageWrap = document.getElementById( 'pagewrap' ),
					pages = [].slice.call( pageWrap.querySelectorAll( 'div.container' ) ),
					currentPage = 0,
					triggerLoading = [].slice.call( pageWrap.querySelectorAll( 'a.pageload-link' ) ),
					loader = new SVGLoader( document.getElementById( 'loader' ), { speedIn : 400, easingIn : mina.easeinout } );

				function init() {
					triggerLoading.forEach( function( trigger ) {
						trigger.addEventListener( 'click', function( ev ) {
							ev.preventDefault();
							loader.show();
							// after some time hide loader
							setTimeout( function() {
								loader.hide();

								classie.removeClass( pages[ currentPage ], 'show' );
								// update..
                // currentPage = currentPage ? 0 : 1;
                currentPage = currentPage ? 0 : 1;
								classie.addClass( pages[ currentPage ], 'show' );
							}, 2000 );

						} );
					} );
				}

				init();
			})();
		</script>

  </body>

</html>
